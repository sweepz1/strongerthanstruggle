<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stronger Than Struggle â€“ Interactive Youth Campaign</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #005c69;
      --accent: #ff6f61;
      --success: #22c55e;
      --danger: #ef4444;
      --liquid-glass: rgba(255, 255, 255, 0.25);
    }
    html { scroll-behavior: smooth; }
    body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #f0f9ff 0%, #ffffff 100%); letter-spacing: -0.01em; line-height: 1.5; }
    h1,h2,h3 { font-family: 'Playfair Display', serif; letter-spacing: -0.02em; line-height: 1.2; }
    .glass { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.4); }
    .btn-primary { @apply inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-primary text-white font-semibold hover:bg-primary/90 transition-all duration-200 shadow hover:shadow-lg; }
    .btn-secondary { @apply inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-accent text-white font-semibold hover:bg-accent/90 transition-all duration-200 shadow hover:shadow-lg; }
    .nav-link { @apply relative text-gray-700 hover:text-primary font-medium after:absolute after:left-0 after:bottom-[-4px] after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 hover:after:w-full; }
    .stat-bar { background: #e5e7eb; border-radius: 999px; overflow: hidden; height: 8px; }
    .stat-fill { height: 100%; border-radius: 999px; transition: width 0.5s cubic-bezier(.4, .0, .2, 1); }
    .choice-btn {
      background: var(--liquid-glass);
      backdrop-filter: blur(6px);
      border: 1px solid rgba(255, 255, 255, 0.4);
      transition: all 0.2s cubic-bezier(.4, .0, .2, 1);
    }
    .choice-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      border-color: var(--primary);
    }
    #fullscreen-game {
      position: fixed; inset: 0; z-50; background: #0f172a; display: none; flex-direction: column;
    }
    #fullscreen-game.active { display: flex; }
    #fullscreen-game .controls {
      position: absolute; top: 16px; right: 16px; display: flex; gap: 8px; background: rgba(0, 0, 0, .45); backdrop-filter: blur(4px); padding: 8px; border-radius: 12px;
    }
    #fullscreen-game .controls button {
      background: none; border: none; color: #fff; cursor: pointer; transition: opacity 0.2s;
    }
    #fullscreen-game .controls button:hover { opacity: 0.7; }
  </style>
</head>
<body class="text-gray-700">

<!-- ==========  NAV  ========== -->
<nav class="bg-white/80 backdrop-blur border-b border-white/30 sticky top-0 z-40">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16">
    <div class="font-bold text-xl text-primary">Stronger Than Struggle</div>
    <div class="flex gap-6">
      <a href="#home" class="nav-link">Home</a>
      <a href="#resources" class="nav-link">BC Youth Resources</a>
      <a href="#game" class="nav-link">Play</a>
    </div>
  </div>
</nav>

<!-- ==========  HERO  ========== -->
<section id="home" class="py-20">
  <div class="max-w-4xl mx-auto px-4 text-center">
    <h1 class="text-5xl md:text-6xl font-extrabold text-primary tracking-tight">Stronger Than Struggle</h1>
    <p class="mt-4 text-lg text-gray-600">An interactive story about youth, homelessness and drug-toxicity.<br>Every path starts with one choice.</p>
    <div class="mt-8 flex flex-wrap gap-4 justify-center">
      <a href="#resources" class="btn-primary">BC Youth Resources</a>
      <a href="#game" class="btn-secondary">Play the Story</a>
    </div>
    <div class="mt-12 glass rounded-3xl p-6 text-left">
      <h3 class="text-xl font-bold text-primary mb-2">Why this matters</h3>
      <ul class="list-disc list-inside space-y-1 text-sm">
        <li>Early supportive conversations reduce overdose risk by up to 50 % (BCCDC, 2023).</li>
        <li>Interactive stories increase help-seeking behaviour among youth (Headspace AUS, 2022).</li>
        <li>Foundry BC reports 1 in 4 youth accessing centres experience unstable housing.</li>
      </ul>
    </div>
  </div>
</section>

<!-- ==========  RESOURCES  (BC-specific)  ========== -->
<section id="resources" class="py-20 bg-white">
  <div class="max-w-5xl mx-auto px-4">
    <h2 class="text-4xl font-bold text-primary mb-8 text-center">BC Youth Resources</h2>
    <div class="mb-10 glass border-red-300 rounded-3xl p-6">
      <h3 class="text-xl font-bold text-red-700 mb-2">Crisis & Emergency</h3>
      <div class="flex flex-wrap gap-4 mt-4">
        <a href="tel:911" class="btn-secondary bg-red-600 hover:bg-red-700">Call 911</a>
        <a href="tel:988" class="btn-secondary bg-red-600 hover:bg-red-700">Suicide & Crisis Lifeline 988</a>
      </div>
    </div>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      <div class="glass rounded-3xl p-6"><h4 class="font-bold text-primary mb-2">Foundry BC</h4><p class="text-sm mb-3">Free health & social services for youth 12-24.</p><a href="https://foundrybc.ca" target="_blank" class="btn-primary text-sm">foundrybc.ca</a></div>
      <div class="glass rounded-3xl p-6"><h4 class="font-bold text-primary mb-2">811 BC Nurse Line</h4><p class="text-sm mb-3">24-7 health advice, overdose prevention, naloxone.</p><a href="tel:811" class="btn-primary text-sm">Call 811</a></div>
      <div class="glass rounded-3xl p-6"><h4 class="font-bold text-primary mb-2">Crisis Text Line</h4><p class="text-sm mb-3">Text with a trained responder any time.</p><a href="sms:741741?body=HOME" class="btn-primary text-sm">Text HOME to 741741</a></div>
    </div>
    <div class="mt-10 glass rounded-3xl p-6">
      <h3 class="text-xl font-bold text-primary mb-4">Housing & Shelter (BC)</h3>
      <ul class="list-disc list-inside space-y-2 text-sm">
        <li><strong>Foundry Housing</strong> â€“ transitional units in multiple BC cities.</li>
        <li><strong>BC Housing â€“ Youth Outreach</strong> call <a href="tel:211" class="underline">211</a> to locate nearest shelter bed.</li>
        <li><strong>Covenant House Vancouver / Victoria</strong> â€“ 24-hr crisis beds and long-term support.</li>
      </ul>
    </div>
  </div>
</section>

<!-- ==========  GAME  (generic youth story)  ========== -->
<section id="game" class="py-20 bg-gradient-to-b from-blue-50 to-white">
  <div class="max-w-4xl mx-auto px-4 text-center">
    <h2 class="text-4xl font-bold text-primary">Stronger Than Struggle</h2>
    <p class="mt-2 text-gray-600">An interactive story about youth, homelessness and drug-toxicity.<br>Click the card to enter full-screen.</p>
  </div>

  <!-- Inline card (click to fullscreen) -->
  <div class="max-w-4xl mx-auto px-4 mt-8">
    <div id="game-card" class="game-card rounded-3xl p-6 md:p-8 cursor-pointer hover:scale-[1.01] transition-transform duration-300" onclick="enterFullscreen()">
      <div class="grid md:grid-cols-5 gap-6">
        <div class="md:col-span-2">
          <img id="game-img" class="w-full h-64 md:h-80 object-cover rounded-2xl shadow-lg" src="./stressed.jpg" alt="Scene">
          <div id="game-caption" class="text-center font-bold text-primary mt-3"></div>
        </div>
        <div class="md:col-span-3 flex flex-col gap-4">
          <div id="game-story" class="glass rounded-2xl p-4 text-gray-800 leading-relaxed"></div>
          <div class="glass rounded-2xl p-4 text-white text-sm">
            <div class="flex items-center gap-3"><span class="w-14">Hope</span><div class="flex-1 h-2 bg-white/20 rounded-full"><div id="game-hope-bar" class="h-full bg-green-500" style="width:60%"></div></div><span id="game-hope-val" class="w-7 text-right font-bold">10</span></div>
            <div class="flex items-center gap-3"><span class="w-14">Stress</span><div class="flex-1 h-2 bg-white/20 rounded-full"><div id="game-stress-bar" class="h-full bg-red-500" style="width:60%"></div></div><span id="game-stress-val" class="w-7 text-right font-bold">10</span></div>
            <div class="flex items-center gap-3"><span class="w-14">Motivation</span><div class="flex-1 h-2 bg-white/20 rounded-full"><div id="game-motivation-bar" class="h-full bg-blue-500" style="width:30%"></div></div><span id="game-motivation-val" class="w-7 text-right font-bold">5</span></div>
          </div>
          <div id="game-choices" class="grid gap-2"></div>
          <div id="game-end-message" class="text-center text-sm font-medium mt-2"></div>
          <div class="text-center text-xs text-gray-500 mt-2">Tap anywhere to expand full-screen</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Full-screen overlay (only visible after click) -->
  <div id="fullscreen-game" class="fixed inset-0 z-50 bg-[#0f172a] hidden flex-col">
    <div class="controls">
      <button onclick="exitFullscreen()" title="Exit full screen">âœ•</button>
      <button onclick="toggleMute()" title="Mute/unmute sounds">ðŸ”Š</button>
    </div>
    <div class="flex-1 grid md:grid-cols-2 gap-6 p-6 md:p-10">
      <div class="flex flex-col gap-4">
        <img id="fullscreen-img" class="w-full h-80 object-cover rounded-2xl shadow-xl" src="" alt="Scene">
        <div id="fullscreen-caption" class="text-center font-bold text-white"></div>
      </div>
      <div class="flex flex-col gap-4">
        <div id="fullscreen-story" class="bg-white/10 backdrop-blur rounded-2xl p-5 text-white leading-relaxed"></div>
        <div class="bg-white/10 backdrop-blur rounded-2xl p-4 text-white text-sm">
          <div class="flex items-center gap-3"><span class="w-16">Hope</span><div class="flex-1 h-2 bg-white/20 rounded-full"><div id="fullscreen-hope-bar" class="h-full bg-green-500"></div></div><span id="fullscreen-hope-val" class="w-8 text-right font-bold">0</span></div>
          <div class="flex items-center gap-3"><span class="w-16">Stress</span><div class="flex-1 h-2 bg-white/20 rounded-full"><div id="fullscreen-stress-bar" class="h-full bg-red-500"></div></div><span id="fullscreen-stress-val" class="w-8 text-right font-bold">0</span></div>
          <div class="flex items-center gap-3"><span class="w-16">Motivation</span><div class="flex-1 h-2 bg-white/20 rounded-full"><div id="fullscreen-motivation-bar" class="h-full bg-blue-500"></div></div><span id="fullscreen-motivation-val" class="w-8 text-right font-bold">0</span></div>
        </div>
        <div id="fullscreen-choices" class="grid gap-3"></div>
        <div id="fullscreen-end-message" class="text-center text-sm text-white/80 mt-2"></div>
      </div>
    </div>
  </div>
</section>

<!-- ==========  FOOTER  ========== -->
<footer class="bg-gray-900 text-white py-10">
  <div class="max-w-4xl mx-auto px-4 text-center text-sm">
    <p>Â© 2024 Stronger Than Struggle. Educational use only.</p>
    <p class="mt-2">If you or someone you know is in crisis, call 911 or 988 (Suicide & Crisis Lifeline).</p>
  </div>
</footer>

<script>
  // ----------  LOCAL FILE MAPPER  (11 photos)  ----------
  const localMap = {
    "stressed.jpg": "stressed.jpg",
    "happy.jpg": "happy.jpg",
    "randompeople.jpg": "randompeople.jpg",
    "group.jpg": "group.jpg",
    "yes.jpg": "yes.jpg",
    "therapy.jpg": "therapy.jpg",
    "phonecall.jpg": "phonecall.jpg",
    "pill.jpg": "pill.jpg",
    "911.jpg": "911.jpg"
  };

  // ----------  GAME STATE  ----------
  let state = { hope: 10, stress: 10, motivation: 5, scene: 0 };
  const overdoseSceneIndex = 15;
  const recoverySceneIndex = 16;
  const minHope = -5, maxHope = 20, minStress = -5, maxStress = 20, minMotivation = 0, maxMotivation = 20;

  // ----------  SCENES  (generic youth)  ----------
  const scenes = [
    {character:"stressed.jpg", name:"Your Friend", text:"A 19-year-old, couch-surfing since foster-care ended. Tonight theyâ€™re scrolling social media, feeling completely alone."},
    {character:"stressed.jpg", name:"Your Friend", text:"They start to open up: 'Iâ€™ve been using downers to sleep. I donâ€™t want to dieâ€”I just want the noise to stop.'"},
    {character:"randompeople.jpg", name:"Youth Drop-In", text:"You walk them to the local youth hub. Staff greet them by first nameâ€”no ID, no questions asked."},
    {character:"yes.jpg", name:"Peer Worker", text:"A peer worker whoâ€™s lived experience says, â€œI was exactly where you are. You matter, and thereâ€™s a path.â€"},
    {character:"therapy.jpg", name:"Counsellor", text:"Inside the hub, a counsellor offers same-day mental-health and substance-use supportâ€”free for any youth 12-24."},
    {character:"phonecall.jpg", name:"You", text:"Later you text the hubâ€™s 24-hour chat to book them a follow-up while theyâ€™re still motivated."},
    {character:"happy.jpg", name:"Your Friend", text:"For the first time in months they laughâ€”genuinely. The worker gave them a take-home naloxone kit and showed how to use it."},
    {character:"group.jpg", name:"Youth Group", text:"At the weekly youth circle, everyone shares one small win. Your friend says, 'I slept 5 hours without usingâ€”tiny, but huge for me.'"},
    {character:"stressed.jpg", name:"Your Friend", text:"A rough day: their backpack with ID and phone was stolen. Old panic creeps in."},
    {character:"happy.jpg", name:"Your Friend", text:"They text you: 'The hub replaced my ID, gave me a bus pass, and a safe-place to charge my phone. I didnâ€™t know places like this existed.'"},
    {character:"randompeople.jpg", name:"New Friends", text:"They start showing up early to help set up chairs. Peer workers ask them to co-facilitate next weekâ€”paid honorarium."},
    {character:"happy.jpg", name:"Your Friend", text:"Paycheque in hand, they buy groceries for the first time in a year. 'I forgot what fresh fruit tastes like.'"},
    {character:"stressed.jpg", name:"Your Friend", text:"Life throws curve-balls: their ex-roommate texts, threatening to kick them out of the couch again."},
    {character:"group.jpg", name:"Circle Check-In", text:"Stress spikes; old cravings return. The group does a 5-4-3-2-1 grounding exercise together."},
    {character:"happy.jpg", name:"Recovery", text:"They choose to stay, breathe, and use the 24-hour chat instead of using alone. Hope re-ignites."},
    {character:"pill.jpg", name:"Critical Moment", text:"They find a blue pill stamped 'M30'â€”cheap, but likely fentanyl. This is an emergency."},
    {character:"resting.jpg", name:"Hospital", text:"Paramedics reverse the overdose with naloxone. Your friend sleeps in a safe bedâ€”alive because you called 911."},
    {character:"911.jpg", name:"Emergency Response", text:"Emergency services arrive in 6 minutes. You did the right thingâ€”no youth is turned away, no questions asked."}
  ];

  // ----------  FULLSCREEN  ----------
  function enterFullscreen(){
    document.getElementById('fullscreen-game').classList.add('active');
    document.getElementById('game-card').classList.add('hidden');
    render();
  }
  function exitFullscreen(){
    document.getElementById('fullscreen-game').classList.remove('active');
    document.getElementById('game-card').classList.remove('hidden');
  }
  function toggleMute(){ /* placeholder */ }

  // ----------  RENDER  (with smooth stat-sliding)  ----------
  function render(prevState){
    const scene=scenes[state.scene>=scenes.length?scenes.length-1:state.scene];
    const imgUrl='./'+localMap[scene.character];   // local file
    ['game','fullscreen'].forEach(mode=>{
      document.getElementById(mode+'-img').src=imgUrl;
      document.getElementById(mode+'-caption').textContent=scene.name;
      document.getElementById(mode+'-story').textContent=scene.text;
    });

    // stats (smooth slide)
    ['hope','stress','motivation'].forEach(stat=>{
      const val=state[stat];
      const min={hope:-5,stress:-5,motivation:0}[stat];
      const max={hope:20,stress:20,motivation:20}[stat];
      const pct=Math.max(0,Math.min(100,(val-min)/(max-min)*100));
      ['game','fullscreen'].forEach(m=>{
        document.getElementById(m+'-'+stat+'-bar').style.width=pct+'%';
        document.getElementById(m+'-'+stat+'-val').textContent=val;
      });
    });

    // choices
    ['game','fullscreen'].forEach(m=>{
      document.getElementById(m+'-choices').innerHTML='';
      document.getElementById(m+'-end-message').textContent='';
    });
    if(state.scene===15){ // overdose
      ['game','fullscreen'].forEach(m=>{
        document.getElementById(m+'-end-message').textContent="Overdose reversedâ€”your friend is alive. In real life, call 911 and use naloxone.";
        const again=document.createElement('button'); again.className='choice-btn'; again.textContent='Play Again';
        again.onclick=()=>{ state={hope:10,stress:10,motivation:5,scene:0}; render(); };
        document.getElementById(m+'-choices').appendChild(again);
      }); return;
    }
    if(state.scene===16){ // recovery
      ['game','fullscreen'].forEach(m=> document.getElementById(m+'-end-message').textContent="Recovery isnâ€™t linearâ€”support and small steps create possibility.");
      return;
    }
    const choices=getRandomChoices(state.scene);
    choices.forEach(ch=>{
      const btnG=document.createElement('button'); btnG.className='choice-btn'; btnG.textContent=ch.text;
      const btnF=btnG.cloneNode(true);
      [btnG,btnF].forEach(btn=>btn.onclick=()=>{ document.querySelectorAll('.choice-btn').forEach(b=>b.disabled=true); makeChoice(ch); });
      document.getElementById('game-choices').appendChild(btnG);
      document.getElementById('fullscreen-choices').appendChild(btnF);
    });
  }

  function makeChoice(choice){
    const prev={...state};
    state.hope+=choice.hope; state.stress+=choice.stress; state.motivation+=choice.motivation;
    state.hope=Math.max(-5,Math.min(20,state.hope));
    state.stress=Math.max(-5,Math.min(20,state.stress));
    state.motivation=Math.max(0,Math.min(20,state.motivation));
    if(state.stress>=20||state.hope<=-5) state.scene=15; else state.scene++;
    render(prev);
  }

  function getRandomChoices(sceneIdx){
    const choices=[
      {text:"Sit beside them quietly and let them know youâ€™re staying.",hope:2,stress:-1,motivation:1},
      {text:"Ask gently how theyâ€™re feeling right now.",hope:1,stress:0,motivation:1},
      {text:"Suggest walking to the nearby youth hub together.",hope:3,stress:-2,motivation:2},
      {text:"Remind them of a time they handled something difficult.",hope:2,stress:-1,motivation:1},
      {text:"Tell them setbacks are normal in recovery.",hope:2,stress:-1,motivation:0},
      {text:"Dismiss their feelings and say theyâ€™re overreacting.",hope:-3,stress:3,motivation:-2},
      {text:"Tell them itâ€™s hopeless and nothing will change.",hope:-3,stress:3,motivation:-3}
    ];
    for(let i=choices.length-1;i>0;i--){
      const j=Math.floor(Math.random()*(i+1));
      [choices[i],choices[j]]=[choices[j],choices[i]];
    }
    return choices.slice(0,3);
  }

  // kick-off
  render();
</script>
</body>
</html>